<!DOCTYPE html>
<html lang="PT-br" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap"rel="stylesheet">

    <title>Dashboard Produtores</title>

    <link rel="stylesheet" href="style/reset.css">
    <link rel="stylesheet" href="style/navBar/styleNavBarLeft.css">
    <link rel="stylesheet" href="style/navBar/styleNavBarHeader.css">
    <link rel="stylesheet" href="../style/styleDashboardProducer/styleDashboardProducer.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
</head>

<body>
    
    <main class="gridContainerBody">
        
        <nav class="navBarLeft">
            <section class="logo"><img src="images/logo/logoCerto .png" alt="logo queijos finos"></section>
            <section class="listLinksNav">
                <ul class="listLinks">
                    <li><img src="images/icons/Vector.svg" alt=""> Dashboard</li>
                    <li><img src="images/icons/producerVetor.svg" alt=""> Produtores</li>
                    <li><img src="images/icons/cheeseVetor.svg" alt=""> Cadastor Tecnologias</li>
                    <li><img src="images/icons/configVetor.svg" alt="">Configurações</li>
                </ul>
            </section>
        </nav>

        <section class="sectionPrincipal flexContainercolum">

            <nav class="navBarHeader">
                <ul class="navBarHeaderList">
                    <li><img src="images/icons/notificationvetor.svg" alt="icone de notificações"></li>
                    <li><img src="images/icons/configVetorWhite.svg" alt="icone de configurações"></li>
                </ul>

                <ul class="navBarHeaderList navBarHeaderListLow">
                    <li>configurar usuário</li>
                    <li>administrador</li>
                </ul>
            </nav>
            

            <div class="graphic-container">
                
                <div class="graphic1">
                    <h2 class="txtgraph">Status De Produção</h2>

                    <div class="productionStatus">
                        <canvas id="graphicProductionStatus" th:id="'graphicProductionStatus'"></canvas>

                    </div>

                </div>
            
                <div class="graphic2">

                    <h2 class="txtgraph">Certificações Conquistadas</h2>

                    <div class="certificationsAchieveds">
                        <canvas id="graphicCertificationsAchieveds"></canvas>
                    </div>
                </div>

            </div>


            <div class="graphic-container2">

                <div class="graphic3">

                    <h2 class="txtgraph">Tecnologias</h2>

                    <div class="graphicTechnologies">
                        <canvas id="technologies"></canvas>
                    </div>

                </div>

            </div>


        </main>

        <script src="../../script/DashboardProducer/graphicsDashboardProducer.js"  th:data-myobject="${result}"></script>

        <script th:inline="javascript">
            var producingCount = /*[[${producingCount}]]*/ 0;
var complementationCount = /*[[${complementationCount}]]*/ 0;
var withdrawalCount = /*[[${withdrawalCount}]]*/ 0;
var disconnectedCount = /*[[${disconnectedCount}]]*/ 0;

var arrayAllCount = [producingCount, complementationCount, withdrawalCount, disconnectedCount];

console.log("Producing Count: ", producingCount);
console.log("Complementation Count: ", complementationCount);
console.log("Withdrawal Count: ", withdrawalCount);
console.log("Disconnected Count: ", disconnectedCount);

const ProductionStatus = document.getElementById('graphicProductionStatus');

const config1 = {
    type: 'doughnut',
    data: {
        labels: ['Ativos Produzindo', 'Ativos em complementação', 'Desistentes', 'Desligados'],
        datasets: [{
            label: '',
            data: arrayAllCount,
            backgroundColor: ['#059bff', '#ffc234', '#ff4069', '#9a9b98'],
            hoverOffset: 4
        }]
    },
    options: { 
        plugins: {
            legend: {
                labels: {
                    font: {
                        family: 'Poppins',
                        size: 16,
                    },
                }
            }
        }
    }
};
new Chart(ProductionStatus, config1);

            
        </script>
        

</body>


</html>